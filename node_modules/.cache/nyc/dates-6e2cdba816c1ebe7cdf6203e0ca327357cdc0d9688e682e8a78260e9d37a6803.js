function cov_chjpeo4kv(){var path="/Users/lincolndaniel/Documents/src/timecapsule/utils/dates.js";var hash="681cdd2a8b5a77bec9982443fcfb7e54feb19139";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/lincolndaniel/Documents/src/timecapsule/utils/dates.js",statementMap:{"0":{start:{line:1,column:14},end:{line:1,column:30}},"1":{start:{line:5,column:17},end:{line:7,column:1}},"2":{start:{line:6,column:2},end:{line:6,column:44}},"3":{start:{line:14,column:24},end:{line:22,column:1}},"4":{start:{line:15,column:2},end:{line:20,column:3}},"5":{start:{line:16,column:4},end:{line:18,column:5}},"6":{start:{line:17,column:6},end:{line:17,column:14}},"7":{start:{line:19,column:4},end:{line:19,column:39}},"8":{start:{line:21,column:2},end:{line:21,column:57}},"9":{start:{line:29,column:30},end:{line:40,column:1}},"10":{start:{line:30,column:15},end:{line:30,column:38}},"11":{start:{line:31,column:17},end:{line:31,column:23}},"12":{start:{line:33,column:2},end:{line:35,column:3}},"13":{start:{line:34,column:4},end:{line:34,column:36}},"14":{start:{line:36,column:2},end:{line:38,column:3}},"15":{start:{line:37,column:4},end:{line:37,column:22}},"16":{start:{line:39,column:2},end:{line:39,column:15}},"17":{start:{line:48,column:15},end:{line:70,column:1}},"18":{start:{line:49,column:17},end:{line:49,column:28}},"19":{start:{line:50,column:13},end:{line:50,column:14}},"20":{start:{line:52,column:2},end:{line:54,column:3}},"21":{start:{line:53,column:4},end:{line:53,column:13}},"22":{start:{line:56,column:18},end:{line:56,column:39}},"23":{start:{line:57,column:2},end:{line:61,column:3}},"24":{start:{line:58,column:4},end:{line:58,column:51}},"25":{start:{line:60,column:4},end:{line:60,column:29}},"26":{start:{line:63,column:2},end:{line:69,column:4}},"27":{start:{line:77,column:28},end:{line:77,column:78}},"28":{start:{line:77,column:39},end:{line:77,column:78}},"29":{start:{line:85,column:31},end:{line:89,column:1}},"30":{start:{line:86,column:2},end:{line:88,column:82}},"31":{start:{line:97,column:29},end:{line:101,column:1}},"32":{start:{line:98,column:2},end:{line:100,column:78}},"33":{start:{line:106,column:28},end:{line:110,column:1}},"34":{start:{line:107,column:14},end:{line:107,column:34}},"35":{start:{line:108,column:2},end:{line:108,column:26}},"36":{start:{line:109,column:2},end:{line:109,column:22}},"37":{start:{line:112,column:32},end:{line:117,column:3}},"38":{start:{line:113,column:4},end:{line:114,column:60}},"39":{start:{line:113,column:37},end:{line:113,column:53}},"40":{start:{line:114,column:9},end:{line:114,column:60}},"41":{start:{line:114,column:44},end:{line:114,column:60}},"42":{start:{line:116,column:4},end:{line:116,column:15}},"43":{start:{line:119,column:0},end:{line:127,column:1}},"44":{start:{line:129,column:0},end:{line:129,column:21}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:5,column:17},end:{line:5,column:18}},loc:{start:{line:5,column:24},end:{line:7,column:1}},line:5},"1":{name:"(anonymous_1)",decl:{start:{line:14,column:24},end:{line:14,column:25}},loc:{start:{line:14,column:31},end:{line:22,column:1}},line:14},"2":{name:"(anonymous_2)",decl:{start:{line:29,column:30},end:{line:29,column:31}},loc:{start:{line:29,column:37},end:{line:40,column:1}},line:29},"3":{name:"(anonymous_3)",decl:{start:{line:48,column:15},end:{line:48,column:16}},loc:{start:{line:48,column:33},end:{line:70,column:1}},line:48},"4":{name:"(anonymous_4)",decl:{start:{line:77,column:28},end:{line:77,column:29}},loc:{start:{line:77,column:39},end:{line:77,column:78}},line:77},"5":{name:"(anonymous_5)",decl:{start:{line:85,column:31},end:{line:85,column:32}},loc:{start:{line:85,column:55},end:{line:89,column:1}},line:85},"6":{name:"(anonymous_6)",decl:{start:{line:97,column:29},end:{line:97,column:30}},loc:{start:{line:97,column:53},end:{line:101,column:1}},line:97},"7":{name:"(anonymous_7)",decl:{start:{line:106,column:28},end:{line:106,column:29}},loc:{start:{line:106,column:34},end:{line:110,column:1}},line:106},"8":{name:"(anonymous_8)",decl:{start:{line:112,column:32},end:{line:112,column:33}},loc:{start:{line:112,column:50},end:{line:117,column:3}},line:112}},branchMap:{"0":{loc:{start:{line:6,column:9},end:{line:6,column:44}},type:"binary-expr",locations:[{start:{line:6,column:9},end:{line:6,column:30}},{start:{line:6,column:34},end:{line:6,column:44}}],line:6},"1":{loc:{start:{line:15,column:2},end:{line:20,column:3}},type:"if",locations:[{start:{line:15,column:2},end:{line:20,column:3}},{start:{line:15,column:2},end:{line:20,column:3}}],line:15},"2":{loc:{start:{line:15,column:6},end:{line:15,column:31}},type:"binary-expr",locations:[{start:{line:15,column:6},end:{line:15,column:17}},{start:{line:15,column:21},end:{line:15,column:31}}],line:15},"3":{loc:{start:{line:16,column:4},end:{line:18,column:5}},type:"if",locations:[{start:{line:16,column:4},end:{line:18,column:5}},{start:{line:16,column:4},end:{line:18,column:5}}],line:16},"4":{loc:{start:{line:33,column:2},end:{line:35,column:3}},type:"if",locations:[{start:{line:33,column:2},end:{line:35,column:3}},{start:{line:33,column:2},end:{line:35,column:3}}],line:33},"5":{loc:{start:{line:36,column:2},end:{line:38,column:3}},type:"if",locations:[{start:{line:36,column:2},end:{line:38,column:3}},{start:{line:36,column:2},end:{line:38,column:3}}],line:36},"6":{loc:{start:{line:48,column:19},end:{line:48,column:28}},type:"default-arg",locations:[{start:{line:48,column:26},end:{line:48,column:28}}],line:48},"7":{loc:{start:{line:52,column:2},end:{line:54,column:3}},type:"if",locations:[{start:{line:52,column:2},end:{line:54,column:3}},{start:{line:52,column:2},end:{line:54,column:3}}],line:52},"8":{loc:{start:{line:52,column:6},end:{line:52,column:25}},type:"binary-expr",locations:[{start:{line:52,column:6},end:{line:52,column:11}},{start:{line:52,column:15},end:{line:52,column:25}}],line:52},"9":{loc:{start:{line:57,column:2},end:{line:61,column:3}},type:"if",locations:[{start:{line:57,column:2},end:{line:61,column:3}},{start:{line:57,column:2},end:{line:61,column:3}}],line:57},"10":{loc:{start:{line:86,column:9},end:{line:88,column:82}},type:"cond-expr",locations:[{start:{line:87,column:6},end:{line:87,column:15}},{start:{line:88,column:6},end:{line:88,column:82}}],line:86},"11":{loc:{start:{line:86,column:9},end:{line:86,column:71}},type:"binary-expr",locations:[{start:{line:86,column:9},end:{line:86,column:39}},{start:{line:86,column:43},end:{line:86,column:71}}],line:86},"12":{loc:{start:{line:98,column:9},end:{line:100,column:78}},type:"cond-expr",locations:[{start:{line:99,column:6},end:{line:99,column:15}},{start:{line:100,column:6},end:{line:100,column:78}}],line:98},"13":{loc:{start:{line:98,column:9},end:{line:98,column:71}},type:"binary-expr",locations:[{start:{line:98,column:9},end:{line:98,column:39}},{start:{line:98,column:43},end:{line:98,column:71}}],line:98},"14":{loc:{start:{line:113,column:4},end:{line:114,column:60}},type:"if",locations:[{start:{line:113,column:4},end:{line:114,column:60}},{start:{line:113,column:4},end:{line:114,column:60}}],line:113},"15":{loc:{start:{line:113,column:8},end:{line:113,column:35}},type:"binary-expr",locations:[{start:{line:113,column:8},end:{line:113,column:22}},{start:{line:113,column:26},end:{line:113,column:35}}],line:113},"16":{loc:{start:{line:114,column:9},end:{line:114,column:60}},type:"if",locations:[{start:{line:114,column:9},end:{line:114,column:60}},{start:{line:114,column:9},end:{line:114,column:60}}],line:114},"17":{loc:{start:{line:114,column:13},end:{line:114,column:42}},type:"binary-expr",locations:[{start:{line:114,column:13},end:{line:114,column:28}},{start:{line:114,column:32},end:{line:114,column:42}}],line:114}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"681cdd2a8b5a77bec9982443fcfb7e54feb19139"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_chjpeo4kv=function(){return actualCoverage;};}return actualCoverage;}cov_chjpeo4kv();const luxon=(cov_chjpeo4kv().s[0]++,require('luxon'));let unit;cov_chjpeo4kv().s[1]++;const isObject=v=>{cov_chjpeo4kv().f[0]++;cov_chjpeo4kv().s[2]++;return(cov_chjpeo4kv().b[0][0]++,typeof v==='object')&&(cov_chjpeo4kv().b[0][1]++,v!==null);};/**
 * Converts any valid Date argument to a Luxon DateTime instance.
 * @param {String|Number|Date|Object} v
 * @returns luxin.DateTime
 */cov_chjpeo4kv().s[3]++;const toLuxonDateTime=v=>{cov_chjpeo4kv().f[1]++;cov_chjpeo4kv().s[4]++;if((cov_chjpeo4kv().b[2][0]++,isObject(v))&&(cov_chjpeo4kv().b[2][1]++,!v.getTime)){cov_chjpeo4kv().b[1][0]++;cov_chjpeo4kv().s[5]++;if(v.isLuxonDateTime){cov_chjpeo4kv().b[3][0]++;cov_chjpeo4kv().s[6]++;return v;}else{cov_chjpeo4kv().b[3][1]++;}cov_chjpeo4kv().s[7]++;return luxon.DateTime.fromObject(v);}else{cov_chjpeo4kv().b[1][1]++;}cov_chjpeo4kv().s[8]++;return luxon.DateTime.fromMillis(new Date(v).getTime());};/**
 * Converts any valid Date argument to a Luxon DateTime instance.
 * @param {String|Number|Date|Object} v
 * @returns luxin.DateTime
 */cov_chjpeo4kv().s[9]++;const toLuxonDateTimeConfig=v=>{cov_chjpeo4kv().f[2]++;const date=(cov_chjpeo4kv().s[10]++,unit.toLuxonDateTime(v));const config=(cov_chjpeo4kv().s[11]++,date.c);cov_chjpeo4kv().s[12]++;if(date.zone){cov_chjpeo4kv().b[4][0]++;cov_chjpeo4kv().s[13]++;config.zone=date.zone.zoneName;}else{cov_chjpeo4kv().b[4][1]++;}cov_chjpeo4kv().s[14]++;if(!config.zone){cov_chjpeo4kv().b[5][0]++;cov_chjpeo4kv().s[15]++;delete config.zone;}else{cov_chjpeo4kv().b[5][1]++;}cov_chjpeo4kv().s[16]++;return config;};/**
 * Format a date.
 * @param {String|Number|Date|Object} v
 * @param {*} opts
 * @returns {String} The datetime formatted to the local or provided timezone of the client.
 */cov_chjpeo4kv().s[17]++;const format=(v,opts=(cov_chjpeo4kv().b[6][0]++,{}))=>{cov_chjpeo4kv().f[3]++;const config=(cov_chjpeo4kv().s[18]++,{...opts});let date=(cov_chjpeo4kv().s[19]++,v);cov_chjpeo4kv().s[20]++;if((cov_chjpeo4kv().b[8][0]++,!date)&&(cov_chjpeo4kv().b[8][1]++,date!==0)){cov_chjpeo4kv().b[7][0]++;cov_chjpeo4kv().s[21]++;date='';}else{cov_chjpeo4kv().b[7][1]++;}let luxonDate=(cov_chjpeo4kv().s[22]++,toLuxonDateTime(date));cov_chjpeo4kv().s[23]++;if(config.useTimeZone){cov_chjpeo4kv().b[9][0]++;cov_chjpeo4kv().s[24]++;luxonDate=luxonDate.setZone(opts.useTimeZone);cov_chjpeo4kv().s[25]++;delete config.useTimeZone;}else{cov_chjpeo4kv().b[9][1]++;}cov_chjpeo4kv().s[26]++;return luxonDate.toLocaleString({year:'numeric',month:'short',day:'numeric',weekday:'short',...config});};/**
 * Check to determine if an input is an invalid Luxon date
 * @param {String|Number|Date|Object} input
 * @returns {Boolean}
 */cov_chjpeo4kv().s[27]++;const _checkIsInvalidDate=input=>{cov_chjpeo4kv().f[4]++;cov_chjpeo4kv().s[28]++;return toLuxonDateTime(input).invalid!==null;};/**
 * Get the minutes between a start time and end time
 * @param {Date} startDate
 * @param {Date} endDate
 * @returns {Number}
 */cov_chjpeo4kv().s[29]++;const getMinutesBetweenDates=(startDate,endDate)=>{cov_chjpeo4kv().f[5]++;cov_chjpeo4kv().s[30]++;return(cov_chjpeo4kv().b[11][0]++,_checkIsInvalidDate(startDate))||(cov_chjpeo4kv().b[11][1]++,_checkIsInvalidDate(endDate))?(cov_chjpeo4kv().b[10][0]++,undefined):(cov_chjpeo4kv().b[10][1]++,toLuxonDateTime(endDate).diff(toLuxonDateTime(startDate),'minutes').minutes);};/**
 * Get the hours between a start time and end time
 * @param {Date} startDate
 * @param {Date} endDate
 * @returns {Number}
 */cov_chjpeo4kv().s[31]++;const getHoursBetweenDates=(startDate,endDate)=>{cov_chjpeo4kv().f[6]++;cov_chjpeo4kv().s[32]++;return(cov_chjpeo4kv().b[13][0]++,_checkIsInvalidDate(startDate))||(cov_chjpeo4kv().b[13][1]++,_checkIsInvalidDate(endDate))?(cov_chjpeo4kv().b[12][0]++,undefined):(cov_chjpeo4kv().b[12][1]++,toLuxonDateTime(endDate).diff(toLuxonDateTime(startDate),'hours').hours);};/**
 * @returns The current day's millis without the time components.
 */cov_chjpeo4kv().s[33]++;const getCurrentDayMillis=()=>{cov_chjpeo4kv().f[7]++;const day=(cov_chjpeo4kv().s[34]++,new Date(Date.now()));cov_chjpeo4kv().s[35]++;day.setHours(0,0,0,0);cov_chjpeo4kv().s[36]++;return day.getTime();};cov_chjpeo4kv().s[37]++;const convert12HoursTo24Hours=(hour,period)=>{cov_chjpeo4kv().f[8]++;cov_chjpeo4kv().s[38]++;if((cov_chjpeo4kv().b[15][0]++,period=='pm')&&(cov_chjpeo4kv().b[15][1]++,hour<12)){cov_chjpeo4kv().b[14][0]++;cov_chjpeo4kv().s[39]++;return hour+12;}else{cov_chjpeo4kv().b[14][1]++;cov_chjpeo4kv().s[40]++;if((cov_chjpeo4kv().b[17][0]++,period!=='pm')&&(cov_chjpeo4kv().b[17][1]++,hour==12)){cov_chjpeo4kv().b[16][0]++;cov_chjpeo4kv().s[41]++;return hour-12;}else{cov_chjpeo4kv().b[16][1]++;}}cov_chjpeo4kv().s[42]++;return hour;};cov_chjpeo4kv().s[43]++;unit={toLuxonDateTime,format,getCurrentDayMillis,toLuxonDateTimeConfig,getMinutesBetweenDates,getHoursBetweenDates,convert12HoursTo24Hours};cov_chjpeo4kv().s[44]++;module.exports=unit;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRhdGVzLmpzIl0sIm5hbWVzIjpbImx1eG9uIiwicmVxdWlyZSIsInVuaXQiLCJpc09iamVjdCIsInYiLCJ0b0x1eG9uRGF0ZVRpbWUiLCJnZXRUaW1lIiwiaXNMdXhvbkRhdGVUaW1lIiwiRGF0ZVRpbWUiLCJmcm9tT2JqZWN0IiwiZnJvbU1pbGxpcyIsIkRhdGUiLCJ0b0x1eG9uRGF0ZVRpbWVDb25maWciLCJkYXRlIiwiY29uZmlnIiwiYyIsInpvbmUiLCJ6b25lTmFtZSIsImZvcm1hdCIsIm9wdHMiLCJsdXhvbkRhdGUiLCJ1c2VUaW1lWm9uZSIsInNldFpvbmUiLCJ0b0xvY2FsZVN0cmluZyIsInllYXIiLCJtb250aCIsImRheSIsIndlZWtkYXkiLCJfY2hlY2tJc0ludmFsaWREYXRlIiwiaW5wdXQiLCJpbnZhbGlkIiwiZ2V0TWludXRlc0JldHdlZW5EYXRlcyIsInN0YXJ0RGF0ZSIsImVuZERhdGUiLCJ1bmRlZmluZWQiLCJkaWZmIiwibWludXRlcyIsImdldEhvdXJzQmV0d2VlbkRhdGVzIiwiaG91cnMiLCJnZXRDdXJyZW50RGF5TWlsbGlzIiwibm93Iiwic2V0SG91cnMiLCJjb252ZXJ0MTJIb3Vyc1RvMjRIb3VycyIsImhvdXIiLCJwZXJpb2QiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoieTJRQWVZO3lGQWZaLEtBQU1BLENBQUFBLEtBQUsseUJBQUdDLE9BQU8sQ0FBQyxPQUFELENBQVYsQ0FBWCxDQUVBLEdBQUlDLENBQUFBLElBQUosQyx1QkFFQSxLQUFNQyxDQUFBQSxRQUFRLENBQUlDLENBQUQsRUFBTywrQ0FDdEIsTUFBTyxpQ0FBT0EsQ0FBQUEsQ0FBUCxHQUFhLFFBQWIsOEJBQXlCQSxDQUFDLEdBQUssSUFBL0IsQ0FBUCxDQUNELENBRkQsQ0FJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEcsdUJBQ0EsS0FBTUMsQ0FBQUEsZUFBZSxDQUFJRCxDQUFELEVBQU8sK0NBQzdCLEdBQUksMkJBQUFELFFBQVEsQ0FBQ0MsQ0FB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QUFuRCxpQ0FBbUQsQ0FGVix3QkFJOUMsTUFBT0EsQ0FBQUEsSUFBUCxDQUNELENBTEgsQyx3QkFPQXpDLElBQUksQ0FBRyxDQUNMRyxlQURLLENBRUxhLE1BRkssQ0FHTHFCLG1CQUhLLENBSUwzQixxQkFKSyxDQUtMbUIsc0JBTEssQ0FNTE0sb0JBTkssQ0FPTEssdUJBUEssQ0FBUCxDLHdCQVVBRyxNQUFNLENBQUNDLE9BQVAsQ0FBaUI1QyxJQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGx1eG9uID0gcmVxdWlyZSgnbHV4b24nKVxuXG5sZXQgdW5pdFxuXG5jb25zdCBpc09iamVjdCA9ICh2KSA9PiB7XG4gIHJldHVybiB0eXBlb2YgdiA9PT0gJ29iamVjdCcgJiYgdiAhPT0gbnVsbFxufVxuXG4vKipcbiAqIENvbnZlcnRzIGFueSB2YWxpZCBEYXRlIGFyZ3VtZW50IHRvIGEgTHV4b24gRGF0ZVRpbWUgaW5zdGFuY2UuXG4gKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ8RGF0ZXxPYmplY3R9IHZcbiAqIEByZXR1cm5zIGx1eGluLkRhdGVUaW1lXG4gKi9cbmNvbnN0IHRvTHV4b25EYXRlVGltZSA9ICh2KSA9PiB7XG4gIGlmIChpc09iamVjdCh2KSAmJiAhdi5nZXRUaW1lKSB7XG4gICAgaWYgKHYuaXNMdXhvbkRhdGVUaW1lKSB7XG4gICAgICByZXR1cm4gdlxuICAgIH1cbiAgICByZXR1cm4gbHV4b24uRGF0ZVRpbWUuZnJvbU9iamVjdCh2KVxuICB9XG4gIHJldHVybiBsdXhvbi5EYXRlVGltZS5mcm9tTWlsbGlzKG5ldyBEYXRlKHYpLmdldFRpbWUoKSlcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBhbnkgdmFsaWQgRGF0ZSBhcmd1bWVudCB0byBhIEx1eG9uIERhdGVUaW1lIGluc3RhbmNlLlxuICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfERhdGV8T2JqZWN0fSB2XG4gKiBAcmV0dXJucyBsdXhpbi5EYXRlVGltZVxuICovXG5jb25zdCB0b0x1eG9uRGF0ZVRpbWVDb25maWcgPSAodikgPT4ge1xuICBjb25zdCBkYXRlID0gdW5pdC50b0x1eG9uRGF0ZVRpbWUodilcbiAgY29uc3QgY29uZmlnID0gZGF0ZS5jXG5cbiAgaWYgKGRhdGUuem9uZSkge1xuICAgIGNvbmZpZy56b25lID0gZGF0ZS56b25lLnpvbmVOYW1lXG4gIH1cbiAgaWYgKCFjb25maWcuem9uZSkge1xuICAgIGRlbGV0ZSBjb25maWcuem9uZVxuICB9XG4gIHJldHVybiBjb25maWdcbn1cblxuLyoqXG4gKiBGb3JtYXQgYSBkYXRlLlxuICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfERhdGV8T2JqZWN0fSB2XG4gKiBAcGFyYW0geyp9IG9wdHNcbiAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBkYXRldGltZSBmb3JtYXR0ZWQgdG8gdGhlIGxvY2FsIG9yIHByb3ZpZGVkIHRpbWV6b25lIG9mIHRoZSBjbGllbnQuXG4gKi9cbmNvbnN0IGZvcm1hdCA9ICh2LCBvcHRzID0ge30pID0+IHtcbiAgY29uc3QgY29uZmlnID0geyAuLi5vcHRzIH1cbiAgbGV0IGRhdGUgPSB2XG5cbiAgaWYgKCFkYXRlICYmIGRhdGUgIT09IDApIHtcbiAgICBkYXRlID0gJydcbiAgfVxuXG4gIGxldCBsdXhvbkRhdGUgPSB0b0x1eG9uRGF0ZVRpbWUoZGF0ZSlcbiAgaWYgKGNvbmZpZy51c2VUaW1lWm9uZSkge1xuICAgIGx1eG9uRGF0ZSA9IGx1eG9uRGF0ZS5zZXRab25lKG9wdHMudXNlVGltZVpvbmUpXG5cbiAgICBkZWxldGUgY29uZmlnLnVzZVRpbWVab25lXG4gIH1cblxuICByZXR1cm4gbHV4b25EYXRlLnRvTG9jYWxlU3RyaW5nKHtcbiAgICB5ZWFyOiAnbnVtZXJpYycsXG4gICAgbW9udGg6ICdzaG9ydCcsXG4gICAgZGF5OiAnbnVtZXJpYycsXG4gICAgd2Vla2RheTogJ3Nob3J0JyxcbiAgICAuLi5jb25maWcsXG4gIH0pXG59XG5cbi8qKlxuICogQ2hlY2sgdG8gZGV0ZXJtaW5lIGlmIGFuIGlucHV0IGlzIGFuIGludmFsaWQgTHV4b24gZGF0ZVxuICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfERhdGV8T2JqZWN0fSBpbnB1dFxuICogQHJldHVybnMge0Jvb2xlYW59XG4gKi9cbmNvbnN0IF9jaGVja0lzSW52YWxpZERhdGUgPSAoaW5wdXQpID0+IHRvTHV4b25EYXRlVGltZShpbnB1dCkuaW52YWxpZCAhPT0gbnVsbFxuXG4vKipcbiAqIEdldCB0aGUgbWludXRlcyBiZXR3ZWVuIGEgc3RhcnQgdGltZSBhbmQgZW5kIHRpbWVcbiAqIEBwYXJhbSB7RGF0ZX0gc3RhcnREYXRlXG4gKiBAcGFyYW0ge0RhdGV9IGVuZERhdGVcbiAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gKi9cbmNvbnN0IGdldE1pbnV0ZXNCZXR3ZWVuRGF0ZXMgPSAoc3RhcnREYXRlLCBlbmREYXRlKSA9PiB7XG4gIHJldHVybiBfY2hlY2tJc0ludmFsaWREYXRlKHN0YXJ0RGF0ZSkgfHwgX2NoZWNrSXNJbnZhbGlkRGF0ZShlbmREYXRlKVxuICAgID8gdW5kZWZpbmVkXG4gICAgOiB0b0x1eG9uRGF0ZVRpbWUoZW5kRGF0ZSkuZGlmZih0b0x1eG9uRGF0ZVRpbWUoc3RhcnREYXRlKSwgJ21pbnV0ZXMnKS5taW51dGVzXG59XG5cbi8qKlxuICogR2V0IHRoZSBob3VycyBiZXR3ZWVuIGEgc3RhcnQgdGltZSBhbmQgZW5kIHRpbWVcbiAqIEBwYXJhbSB7RGF0ZX0gc3RhcnREYXRlXG4gKiBAcGFyYW0ge0RhdGV9IGVuZERhdGVcbiAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gKi9cbmNvbnN0IGdldEhvdXJzQmV0d2VlbkRhdGVzID0gKHN0YXJ0RGF0ZSwgZW5kRGF0ZSkgPT4ge1xuICByZXR1cm4gX2NoZWNrSXNJbnZhbGlkRGF0ZShzdGFydERhdGUpIHx8IF9jaGVja0lzSW52YWxpZERhdGUoZW5kRGF0ZSlcbiAgICA/IHVuZGVmaW5lZFxuICAgIDogdG9MdXhvbkRhdGVUaW1lKGVuZERhdGUpLmRpZmYodG9MdXhvbkRhdGVUaW1lKHN0YXJ0RGF0ZSksICdob3VycycpLmhvdXJzXG59XG5cbi8qKlxuICogQHJldHVybnMgVGhlIGN1cnJlbnQgZGF5J3MgbWlsbGlzIHdpdGhvdXQgdGhlIHRpbWUgY29tcG9uZW50cy5cbiAqL1xuY29uc3QgZ2V0Q3VycmVudERheU1pbGxpcyA9ICgpID0+IHtcbiAgY29uc3QgZGF5ID0gbmV3IERhdGUoRGF0ZS5ub3coKSlcbiAgZGF5LnNldEhvdXJzKDAsIDAsIDAsIDApXG4gIHJldHVybiBkYXkuZ2V0VGltZSgpXG59XG5cbmNvbnN0IGNvbnZlcnQxMkhvdXJzVG8yNEhvdXJzID0gKGhvdXIsIHBlcmlvZCkgPT4ge1xuICAgIGlmIChwZXJpb2QgPT0gJ3BtJyAmJiBob3VyIDwgMTIpIHJldHVybiBob3VyICsgMTJcbiAgICBlbHNlIGlmIChwZXJpb2QgIT09ICdwbScgJiYgaG91ciA9PSAxMikgcmV0dXJuIGhvdXIgLSAxMlxuXG4gICAgcmV0dXJuIGhvdXJcbiAgfVxuXG51bml0ID0ge1xuICB0b0x1eG9uRGF0ZVRpbWUsXG4gIGZvcm1hdCxcbiAgZ2V0Q3VycmVudERheU1pbGxpcyxcbiAgdG9MdXhvbkRhdGVUaW1lQ29uZmlnLFxuICBnZXRNaW51dGVzQmV0d2VlbkRhdGVzLFxuICBnZXRIb3Vyc0JldHdlZW5EYXRlcyxcbiAgY29udmVydDEySG91cnNUbzI0SG91cnMsXG59XG5cbm1vZHVsZS5leHBvcnRzID0gdW5pdFxuIl19